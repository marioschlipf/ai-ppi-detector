<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Dockerfile">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Dockerfile" />
              <option name="originalContent" value="# Python base image&#10;FROM python:3.9-slim&#10;&#10;# Set working directory&#10;WORKDIR /app&#10;&#10;# Copy requirements and install dependencies&#10;COPY requirements.txt .&#10;RUN pip install --no-cache-dir -r requirements.txt&#10;&#10;# Copy app code&#10;COPY ./app /app&#10;&#10;# Expose port and run the application&#10;CMD [&quot;uvicorn&quot;, &quot;main:app&quot;, &quot;--host&quot;, &quot;0.0.0.0&quot;, &quot;--port&quot;, &quot;80&quot;]&#10;&#10;" />
              <option name="updatedContent" value="# ---- Builder Stage ----&#10;# This stage installs dependencies using Poetry&#10;FROM python:3.10-slim as builder&#10;&#10;# Set working directory&#10;WORKDIR /app&#10;&#10;# Install Poetry&#10;RUN pip install poetry&#10;&#10;# Copy only the necessary files for dependency installation&#10;COPY pyproject.toml poetry.lock ./&#10;&#10;# Install dependencies, without creating a virtual environment inside the image&#10;# --no-root is optional, it skips installing the project itself&#10;RUN poetry install --no-dev --no-root&#10;&#10;&#10;# ---- Final Stage ----&#10;# This stage builds the final, lean image&#10;FROM python:3.10-slim&#10;&#10;# Set working directory&#10;WORKDIR /app&#10;&#10;# Copy the installed dependencies from the builder stage&#10;COPY --from=builder /usr/local/lib/python3.10/site-packages /usr/local/lib/python3.10/site-packages&#10;&#10;# Copy your application code&#10;COPY ./app /app&#10;&#10;# Expose port and run the application&#10;CMD [&quot;uvicorn&quot;, &quot;app.main:app&quot;, &quot;--host&quot;, &quot;0.0.0.0&quot;, &quot;--port&quot;, &quot;80&quot;]&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/pyproject.toml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/pyproject.toml" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="[tool.poetry]&#10;name = &quot;pii-detection&quot;&#10;version = &quot;0.1.0&quot;&#10;description = &quot;PII detection service using FastAPI and GLiNER&quot;&#10;authors = [&quot;Your Name &lt;you@example.com&gt;&quot;]&#10;&#10;[tool.poetry.dependencies]&#10;python = &quot;&gt;=3.10, &lt;3.14&quot;&#10;fastapi = &quot;^0.121.0&quot;&#10;uvicorn = &quot;^0.38.0&quot;&#10;pydantic = &quot;^2.12.4&quot;&#10;gliner = &quot;^0.2.22&quot;&#10;spacy = &quot;^3.8.7&quot;&#10;spacy-transformers = &quot;^1.3.9&quot;&#10;torch = &quot;^2.9.0&quot;&#10;transformers = &quot;^4.57.1&quot;&#10;&#10;[build-system]&#10;requires = [&quot;poetry-core&gt;=1.0.0&quot;]&#10;build-backend = &quot;poetry.core.masonry.api&quot;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>